<html>
    <head>
        <title>
            Rock Paper Scissors
        </title>
    </head>
    <body>
        <script>
            /*
            function capitalize(str) {
  return str.charAt(0).toUpperCase() + str.substring(str.length - (str.length - 1)).toLowerCase()
}
            const move = ["Rock", "Paper", "Scissors"]
            function computerPlay() {
                return move[Math.floor(Math.random() * move.length)]
            }
            //console.error("g")
            //console.error(computerPlay())
            function round(playerSelection) {
                computerSelection = computerPlay()
                //playerSelection = capitalize(prompt("What's your move : "))
                playerSelection = capitalize(playerSelection)
                console.log("You chose " + playerSelection+ ", CPU chose " + computerSelection)
                if (capitalize(playerSelection) == capitalize(computerSelection)) 
                {
                    console.log("It's a tie")
                    return "tied"
                }
                // WINS
                else if (playerSelection == "Rock" && computerSelection == "Scissors")
                {
                    console.log("You win, " + playerSelection + ' beats ' + computerSelection + ".")
                    return "win"
                }
                else if (playerSelection == "Paper" && computerSelection == "Rock")
                {
                    console.log("You win, " + playerSelection + ' beats ' + computerSelection + ".")
                    return "win"
                }
                else if (playerSelection == "Scissors" && computerSelection == "Paper")
                {
                    console.log("You win, " + playerSelection + ' beats ' + computerSelection + ".")
                    return "win"
                }
                // LOSSES
                else if (playerSelection == "Rock" && computerSelection == "Paper" ) 
                {
                    console.log("You lose, " + computerSelection  + ' beats ' + playerSelection + ".")
                    return "lose"
                }
                else if (playerSelection == "Paper" && computerSelection == "Scissors") 
                {
                    console.log("You lose, " + computerSelection  + ' beats ' + playerSelection + ".")
                    return "lose"
                }
                else if (playerSelection == "Scissors" && computerSelection == "Rock" ) 
                {
                    console.log("You lose, " + computerSelection  + ' beats ' + playerSelection + ".")
                    return "lose"
                }
                // INCORRECT CASES
                else 
                {
                    console.log("Incorrect Choice")
                    return "Incorrect Choice"
                }
            }   
            let Wins = 0, Losses = 0, ties = 0;
            function game(pmove) {
                
                //while (games > 5) {
                    for (let i = 1; i < 5; i++) {
                        console.log("Game number " + i)
                        if (round(pmove)=="win") {
                            Wins += 1
                            console.log("added 1 win")
                            continue;
                        }
                        else if (round(pmove) == "lose") {
                            Losses += 1 
                            console.log("added 1 loss")

                            continue;
                        }
                        else if (round(pmove)=="tied") {
                            ties += 1 
                            console.log("added 1 tie")
                            continue;
                        }//}
                        else {break;}
                    }
                    return console.log("You have won " + Wins + " times, lost " + Losses + " times and tied " + ties + " times.")
                
                }
                //console.log("You have won " + Wins + " times, lost " + Losses + " times and tied " + Ties + " times.")
                round("rock")
                round("rock")
               round("rock")
                round("rock")
                round("rock")
        function gamee(result) {
            let win = 0, loss=0, tie=0, plays = 0
            while (plays < 5) {
                console.log("play number " + plays)
                console.log(result)
                plays += 1
                if (result == "win"){win += 1}
                else if (result == "loss"){loss += 1}
                else if (result == "tied"){tie += 1}
            }
            console.log("You have won " + win + " times, lost " + loss + " times and tied " + tie + " times.")  
        }     
        gamee(round("rock"))
*/
function capitalize(str) 
{
    return str.charAt(0).toUpperCase() + str.substring(str.length - (str.length - 1)).toLowerCase()
}
const move = ["Rock", "Paper", "Scissors"]
function computerPlay() 
{
    return move[Math.floor(Math.random() * move.length)]
}
function playRound(playerSelection, computerSelection) {
    playerSelection = capitalize(playerSelection)
    computerSelection = capitalize(computerSelection)
    if (playerSelection == computerSelection) {
        console.log("It's a tie ! "+ playerSelection + " and " + computerSelection + " are the same.")
        return "tie"
    }
    else if (playerSelection == "Rock" && computerSelection == "Scissors") {
        console.log("You win ! "+ playerSelection + " beats " + computerSelection + ".")
        return "win"
    }
    else if (playerSelection == "Scissors" && computerSelection == "Paper") {
        console.log("You win ! "+ playerSelection + " beats " + computerSelection + ".")
        return "win"
    }
    else if (playerSelection == "Paper" && computerSelection == "Rock") {
        console.log("You win ! "+ computerSelection + " beats " + computerSelection + ".")
        return "win"
    }
    /////////////
    //////////
    else if (playerSelection == "Scissors" && computerSelection == "Rock") {
        console.log("You lose ! "+ computerSelection + " beats " + playerSelection + ".")
        return "loss"
    }
    else if (playerSelection == "Paper" && computerSelection == "Scissors") {
        console.log("You lose ! "+ computerSelection + " beats " + playerSelection + ".")
        return "loss"
    }
    else if (playerSelection == "Rock" && computerSelection == "Paper") {
        console.log("You lose ! "+ computerSelection + " beats " + playerSelection + ".")
        return "loss"
    }
    else {
        return("Incorrect Choice")
    }
}

let playerSelection = computerPlay();
let computerSelection = computerPlay();
//console.log(playRound(playerSelection, computerSelection));
function game(){
    let wins = 0, losses=0, plays= wins+losses;
    while(plays<5){
        let playerSelection = computerPlay();
        let computerSelection = computerPlay();
        let result=playRound(playerSelection, computerSelection)
        
    if (result=="win") {
        wins += 1
        plays+=1
        continue;
    } else if (result=="loss") 
    {
        losses +=1
        plays+=1
        continue;
    }
    }   
    return console.log("FINAL SCORE: Player: " + wins + " - COM: "+ losses)
}
console.log(game())
        </script>
    </body>
</html>